<!DOCTYPE html>
<html>
<head>
    <title>Bit Planes Clone</title>
    <style>
        body { margin: 0; background: #222; overflow: hidden; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; }
        canvas { background: #34495e; border: 4px solid #fff; }
        .controls { position: absolute; top: 10px; color: white; }
    </style>
</head>
<body>
    <div class="controls">Arrows to Fly | Space to Shoot</div>
    <canvas id="gameCanvas"></canvas>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = 800;
    canvas.height = 600;

    const player = {
        x: 400, y: 300,
        speed: 0,
        maxSpeed: 5,
        angle: 0,
        rotation: 0.07,
        bullets: []
    };

    const keys = {};
    window.addEventListener('keydown', e => keys[e.code] = true);
    window.addEventListener('keyup', e => keys[e.code] = false);

    function update() {
        // Rotation
        if (keys['ArrowLeft']) player.angle -= player.rotation;
        if (keys['ArrowRight']) player.angle += player.rotation;

        // Constant Forward Thrust (The "Plane" feel)
        player.speed = 3.5; 
        player.x += Math.cos(player.angle) * player.speed;
        player.y += Math.sin(player.angle) * player.speed;

        // Screen Wrap
        if (player.x > canvas.width) player.x = 0;
        if (player.x < 0) player.x = canvas.width;
        if (player.y > canvas.height) player.y = 0;
        if (player.y < 0) player.y = canvas.height;

        // Shoot (Debounced)
        if (keys['Space'] && player.bullets.length < 5) {
            player.bullets.push({
                x: player.x, y: player.y,
                angle: player.angle, speed: 8
            });
            keys['Space'] = false; // Simple semi-auto trigger
        }

        // Update Bullets
        player.bullets.forEach((b, i) => {
            b.x += Math.cos(b.angle) * b.speed;
            b.y += Math.sin(b.angle) * b.speed;
            if (b.x < 0 || b.x > canvas.width || b.y < 0 || b.y > canvas.height) {
                player.bullets.splice(i, 1);
            }
        });
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw Player (Triangle shape)
        ctx.save();
        ctx.translate(player.x, player.y);
        ctx.rotate(player.angle);
        ctx.fillStyle = "#f1c40f";
        ctx.beginPath();
        ctx.moveTo(15, 0);
        ctx.lineTo(-10, -10);
        ctx.lineTo(-10, 10);
        ctx.closePath();
        ctx.fill();
        ctx.restore();

        // Draw Bullets
        ctx.fillStyle = "white";
        player.bullets.forEach(b => ctx.fillRect(b.x, b.y, 4, 4));

        requestAnimationFrame(() => { update(); draw(); });
    }

    draw();
</script>
</body>
</html>
